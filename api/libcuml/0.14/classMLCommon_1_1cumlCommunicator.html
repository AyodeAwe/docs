<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/xhtml;charset=utf-8" http-equiv="Content-Type"/>
<meta content="IE=9" http-equiv="X-UA-Compatible"/>
<meta content="Doxygen 1.8.18" name="generator"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>cuML C++ API: MLCommon::cumlCommunicator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script src="jquery.js" type="text/javascript"></script>
<script src="dynsections.js" type="text/javascript"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script src="search/searchdata.js" type="text/javascript"></script>
<script src="search/search.js" type="text/javascript"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js" type="text/javascript"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" id="rapids-fa-tag" rel="stylesheet"/><link href="/assets/css/custom.css" id="rapids-selector-css" rel="stylesheet"/></head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea"><div id="rapids-doxygen-container"><div class="rapids-home-container"><a class="rapids-home-container__home-btn" href="/api">Home</a></div><div class="rapids-selector__container rapids-selector--hidden"><div class="rapids-selector__selected">libcuml</div><div class="rapids-selector__menu"><a class="rapids-selector__menu-item" href="/api/clx/stable/api.html">clx</a><a class="rapids-selector__menu-item" href="/api/cudf/stable/api.html">cudf</a><a class="rapids-selector__menu-item" href="/api/cudf-java/stable">cudf-java</a><a class="rapids-selector__menu-item" href="/api/cugraph/stable/api.html">cugraph</a><a class="rapids-selector__menu-item" href="/api/cuml/stable/api.html">cuml</a><a class="rapids-selector__menu-item" href="/api/cusignal/stable/api.html">cusignal</a><a class="rapids-selector__menu-item" href="/api/cuspatial/stable/api.html">cuspatial</a><a class="rapids-selector__menu-item" href="/api/cuxfilter/stable">cuxfilter</a><a class="rapids-selector__menu-item" href="/api/libcudf/stable/namespacecudf.html">libcudf</a><a class="rapids-selector__menu-item" href="/api/libcugraph/stable">libcugraph</a><a class="rapids-selector__menu-item rapids-selector__menu-item--selected" href="/api/libcuml/stable">libcuml</a><a class="rapids-selector__menu-item" href="/api/libnvstrings/stable/annotated.html">libnvstrings</a><a class="rapids-selector__menu-item" href="/api/nvstrings/stable/api.html">nvstrings</a><a class="rapids-selector__menu-item" href="/api/rmm/stable/annotated.html">rmm</a></div></div><div class="rapids-selector__container rapids-selector--hidden"><div class="rapids-selector__selected">legacy (0.14)</div><div class="rapids-selector__menu"><a class="rapids-selector__menu-item" href="/api/libcuml/nightly">nightly (0.16)</a><a class="rapids-selector__menu-item" href="/api/libcuml/stable">stable (0.15)</a><a class="rapids-selector__menu-item rapids-selector__menu-item--selected" href="/api/libcuml/legacy">legacy (0.14)</a></div></div></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script src="menudata.js" type="text/javascript"></script>
<script src="menu.js" type="text/javascript"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
</div>
<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)">
</iframe>
</div>
<div class="navpath" id="nav-path">
<ul>
<li class="navelem"><a class="el" href="namespaceMLCommon.html">MLCommon</a></li><li class="navelem"><a class="el" href="classMLCommon_1_1cumlCommunicator.html">cumlCommunicator</a></li> </ul>
</div>
</div><!-- top -->
<div class="header">
<div class="summary">
<a href="#pub-types">Public Types</a> |
<a href="#pub-methods">Public Member Functions</a> |
<a href="#pub-static-attribs">Static Public Attributes</a> |
<a href="classMLCommon_1_1cumlCommunicator-members.html">List of all members</a> </div>
<div class="headertitle">
<div class="title">MLCommon::cumlCommunicator Class Reference</div> </div>
</div><!--header-->
<div class="contents">
<p><code>#include &lt;<a class="el" href="cuml__comms__int_8hpp_source.html">cuml_comms_int.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for MLCommon::cumlCommunicator:</div>
<div class="dyncontent">
<div class="center"><img alt="Collaboration graph" border="0" src="classMLCommon_1_1cumlCommunicator__coll__graph.png" usemap="#MLCommon_1_1cumlCommunicator_coll__map"/></div>
<map id="MLCommon_1_1cumlCommunicator_coll__map" name="MLCommon_1_1cumlCommunicator_coll__map">
<area alt="" coords="5,5,220,229" shape="rect" title=" "/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a7ecf440424f1294d7ec4d5100239c254"><td align="right" class="memItemLeft" valign="top">enum  </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">datatype_t</a> { <br/>
  <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254a9214f0708697297ec9c27af668dd3291">CHAR</a>, 
<a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254aba2d343c3c33b62fa79f427871e49c2d">UINT8</a>, 
<a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254abb09955a8ceef10d9dfb175148579753">INT</a>, 
<a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254a867e723faca1fe81c47561f0df236c97">UINT</a>, 
<br/>
  <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254a7dd27450990da189a9a9694f0e2f94ce">INT64</a>, 
<a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254aa32af145ec44e221efce46611225b982">UINT64</a>, 
<a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254a3a89b943e32fd9e66b1d0916814036ec">FLOAT</a>, 
<a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254aee1f0ae6df619d15f2347c39d5910064">DOUBLE</a>
<br/>
 }</td></tr>
<tr class="separator:a7ecf440424f1294d7ec4d5100239c254"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a5b8d9e59b79be0fd17f7ca99380cdf03"><td align="right" class="memItemLeft" valign="top">enum  </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a5b8d9e59b79be0fd17f7ca99380cdf03">op_t</a> { <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a5b8d9e59b79be0fd17f7ca99380cdf03ab781f36eaee2d4c1e4706785c8ba8a60">SUM</a>, 
<a class="el" href="classMLCommon_1_1cumlCommunicator.html#a5b8d9e59b79be0fd17f7ca99380cdf03a46be58fc7fee767d8400b4934533150c">PROD</a>, 
<a class="el" href="classMLCommon_1_1cumlCommunicator.html#a5b8d9e59b79be0fd17f7ca99380cdf03a32c94e07c1a58dfce6e78e611f989d06">MIN</a>, 
<a class="el" href="classMLCommon_1_1cumlCommunicator.html#a5b8d9e59b79be0fd17f7ca99380cdf03aab87d1520e40dd1501dfffcb8dcd880b">MAX</a>
 }</td></tr>
<tr class="separator:a5b8d9e59b79be0fd17f7ca99380cdf03"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:aa527912fc32dd69c7f1c04d4e332340f"><td align="right" class="memItemLeft" valign="top">enum  </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#aa527912fc32dd69c7f1c04d4e332340f">status_t</a> { <a class="el" href="classMLCommon_1_1cumlCommunicator.html#aa527912fc32dd69c7f1c04d4e332340fa18c920526280f386d9c54d796ffaefb7">commStatusSuccess</a>, 
<a class="el" href="classMLCommon_1_1cumlCommunicator.html#aa527912fc32dd69c7f1c04d4e332340fab0825c558a8538c99f2f2166788e9e89">commStatusError</a>, 
<a class="el" href="classMLCommon_1_1cumlCommunicator.html#aa527912fc32dd69c7f1c04d4e332340fa7571da80a833c88314621d550762688d">commStatusAbort</a>
 }</td></tr>
<tr class="separator:aa527912fc32dd69c7f1c04d4e332340f"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a50a6486c4f311d58a2bd8706a69a8625"><td align="right" class="memItemLeft" valign="top">typedef unsigned int </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a50a6486c4f311d58a2bd8706a69a8625">request_t</a></td></tr>
<tr class="separator:a50a6486c4f311d58a2bd8706a69a8625"><td class="memSeparator" colspan="2"> </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a306f184be7574ab73ff3cfe72165cb0b"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a306f184be7574ab73ff3cfe72165cb0b"><td align="right" class="memTemplItemLeft" valign="top"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">datatype_t</a> </td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a306f184be7574ab73ff3cfe72165cb0b">getDataType</a> () const</td></tr>
<tr class="separator:a306f184be7574ab73ff3cfe72165cb0b"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a67d49917de6def96a4729cf07ba1ed4c"><td align="right" class="memItemLeft" valign="top"> </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a67d49917de6def96a4729cf07ba1ed4c">cumlCommunicator</a> ()=delete</td></tr>
<tr class="separator:a67d49917de6def96a4729cf07ba1ed4c"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ab4a2a108ff3c25beec44cc8645f96af0"><td align="right" class="memItemLeft" valign="top"> </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#ab4a2a108ff3c25beec44cc8645f96af0">cumlCommunicator</a> (std::unique_ptr&lt; <a class="el" href="classMLCommon_1_1cumlCommunicator__iface.html">cumlCommunicator_iface</a> &gt; impl)</td></tr>
<tr class="separator:ab4a2a108ff3c25beec44cc8645f96af0"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a1a276a3cb53d4d077a9c78f0010f9ff3"><td align="right" class="memItemLeft" valign="top">int </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a1a276a3cb53d4d077a9c78f0010f9ff3">getSize</a> () const</td></tr>
<tr class="separator:a1a276a3cb53d4d077a9c78f0010f9ff3"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:afbb287dc3781f2c8211a396b2d10703f"><td align="right" class="memItemLeft" valign="top">int </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#afbb287dc3781f2c8211a396b2d10703f">getRank</a> () const</td></tr>
<tr class="separator:afbb287dc3781f2c8211a396b2d10703f"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a491064fa05f0128aaec680420dcad25f"><td align="right" class="memItemLeft" valign="top"><a class="el" href="classMLCommon_1_1cumlCommunicator.html">cumlCommunicator</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a491064fa05f0128aaec680420dcad25f">commSplit</a> (int color, int key) const</td></tr>
<tr class="separator:a491064fa05f0128aaec680420dcad25f"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ae6e0c18c3549b283fa167725af5677bd"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#ae6e0c18c3549b283fa167725af5677bd">barrier</a> () const</td></tr>
<tr class="separator:ae6e0c18c3549b283fa167725af5677bd"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a46eaf46adee1ccae136bbc6f1d9c6911"><td align="right" class="memItemLeft" valign="top"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#aa527912fc32dd69c7f1c04d4e332340f">status_t</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a46eaf46adee1ccae136bbc6f1d9c6911">syncStream</a> (cudaStream_t stream) const</td></tr>
<tr class="separator:a46eaf46adee1ccae136bbc6f1d9c6911"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ab5051b58208abb6c8bf21c3d31dc9def"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#ab5051b58208abb6c8bf21c3d31dc9def">isend</a> (const void *buf, int size, int dest, int tag, <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a50a6486c4f311d58a2bd8706a69a8625">request_t</a> *request) const</td></tr>
<tr class="separator:ab5051b58208abb6c8bf21c3d31dc9def"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:abf5af939b0b48838df83d5cb62eb7165"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#abf5af939b0b48838df83d5cb62eb7165">irecv</a> (void *buf, int size, int source, int tag, <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a50a6486c4f311d58a2bd8706a69a8625">request_t</a> *request) const</td></tr>
<tr class="separator:abf5af939b0b48838df83d5cb62eb7165"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a631f0d5f877df5982ba4a454b167c9f3"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a631f0d5f877df5982ba4a454b167c9f3"><td align="right" class="memTemplItemLeft" valign="top">void </td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a631f0d5f877df5982ba4a454b167c9f3">isend</a> (const T *buf, int n, int dest, int tag, <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a50a6486c4f311d58a2bd8706a69a8625">request_t</a> *request) const</td></tr>
<tr class="separator:a631f0d5f877df5982ba4a454b167c9f3"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ae736a74ce093c3c1304774240e269384"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ae736a74ce093c3c1304774240e269384"><td align="right" class="memTemplItemLeft" valign="top">void </td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#ae736a74ce093c3c1304774240e269384">irecv</a> (T *buf, int n, int source, int tag, <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a50a6486c4f311d58a2bd8706a69a8625">request_t</a> *request) const</td></tr>
<tr class="separator:ae736a74ce093c3c1304774240e269384"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a1588cc89a9a8dbf0a0adbd5815e8ca48"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a1588cc89a9a8dbf0a0adbd5815e8ca48">waitall</a> (int count, <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a50a6486c4f311d58a2bd8706a69a8625">request_t</a> array_of_requests[]) const</td></tr>
<tr class="separator:a1588cc89a9a8dbf0a0adbd5815e8ca48"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a49d962e146a74f7583e6f98edca443a2"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a49d962e146a74f7583e6f98edca443a2">allreduce</a> (const void *sendbuff, void *recvbuff, int count, <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">datatype_t</a> datatype, <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a5b8d9e59b79be0fd17f7ca99380cdf03">op_t</a> op, cudaStream_t stream) const</td></tr>
<tr class="separator:a49d962e146a74f7583e6f98edca443a2"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a1fc241f3eaf29912976b39ead257e538"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a1fc241f3eaf29912976b39ead257e538"><td align="right" class="memTemplItemLeft" valign="top">void </td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a1fc241f3eaf29912976b39ead257e538">allreduce</a> (const T *sendbuff, T *recvbuff, int count, <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a5b8d9e59b79be0fd17f7ca99380cdf03">op_t</a> op, cudaStream_t stream) const</td></tr>
<tr class="separator:a1fc241f3eaf29912976b39ead257e538"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ac9a00e7c70439c962b6d310736bf73df"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#ac9a00e7c70439c962b6d310736bf73df">bcast</a> (void *buff, int count, <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">datatype_t</a> datatype, int root, cudaStream_t stream) const</td></tr>
<tr class="separator:ac9a00e7c70439c962b6d310736bf73df"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:aae4f9ce2869dff127046bb6025d11ff8"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:aae4f9ce2869dff127046bb6025d11ff8"><td align="right" class="memTemplItemLeft" valign="top">void </td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#aae4f9ce2869dff127046bb6025d11ff8">bcast</a> (T *buff, int count, int root, cudaStream_t stream) const</td></tr>
<tr class="separator:aae4f9ce2869dff127046bb6025d11ff8"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a351939d74f53663d1b9c0caef2f3e60d"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a351939d74f53663d1b9c0caef2f3e60d">reduce</a> (const void *sendbuff, void *recvbuff, int count, <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">datatype_t</a> datatype, <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a5b8d9e59b79be0fd17f7ca99380cdf03">op_t</a> op, int root, cudaStream_t stream) const</td></tr>
<tr class="separator:a351939d74f53663d1b9c0caef2f3e60d"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a81618468dc5b9ca97440215f89edd945"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a81618468dc5b9ca97440215f89edd945"><td align="right" class="memTemplItemLeft" valign="top">void </td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a81618468dc5b9ca97440215f89edd945">reduce</a> (const T *sendbuff, T *recvbuff, int count, <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a5b8d9e59b79be0fd17f7ca99380cdf03">op_t</a> op, int root, cudaStream_t stream) const</td></tr>
<tr class="separator:a81618468dc5b9ca97440215f89edd945"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:af4123a18b0e45f029a880a563c04faeb"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#af4123a18b0e45f029a880a563c04faeb">allgather</a> (const void *sendbuff, void *recvbuff, int sendcount, <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">datatype_t</a> datatype, cudaStream_t stream) const</td></tr>
<tr class="separator:af4123a18b0e45f029a880a563c04faeb"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a189c016ac798ef40afab99a430122e18"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a189c016ac798ef40afab99a430122e18"><td align="right" class="memTemplItemLeft" valign="top">void </td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a189c016ac798ef40afab99a430122e18">allgather</a> (const T *sendbuff, T *recvbuff, int sendcount, cudaStream_t stream) const</td></tr>
<tr class="separator:a189c016ac798ef40afab99a430122e18"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a29cbe3b472a4fe912de00c244ede55fa"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a29cbe3b472a4fe912de00c244ede55fa">allgatherv</a> (const void *sendbuf, void *recvbuf, const int recvcounts[], const int displs[], <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">datatype_t</a> datatype, cudaStream_t stream) const</td></tr>
<tr class="separator:a29cbe3b472a4fe912de00c244ede55fa"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a49ad450c693f33eacb9e9b4905e7dcb0"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a49ad450c693f33eacb9e9b4905e7dcb0"><td align="right" class="memTemplItemLeft" valign="top">void </td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a49ad450c693f33eacb9e9b4905e7dcb0">allgatherv</a> (const void *sendbuf, void *recvbuf, const int recvcounts[], const int displs[], cudaStream_t stream) const</td></tr>
<tr class="separator:a49ad450c693f33eacb9e9b4905e7dcb0"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a31610675465d6bad165958694ef981ad"><td align="right" class="memItemLeft" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a31610675465d6bad165958694ef981ad">reducescatter</a> (const void *sendbuff, void *recvbuff, int recvcount, <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">datatype_t</a> datatype, <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a5b8d9e59b79be0fd17f7ca99380cdf03">op_t</a> op, cudaStream_t stream) const</td></tr>
<tr class="separator:a31610675465d6bad165958694ef981ad"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a5f2645d2b6240436dd6261f9aa713589"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a5f2645d2b6240436dd6261f9aa713589"><td align="right" class="memTemplItemLeft" valign="top">void </td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a5f2645d2b6240436dd6261f9aa713589">reducescatter</a> (const void *sendbuff, void *recvbuff, int recvcount, <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">datatype_t</a> datatype, <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a5b8d9e59b79be0fd17f7ca99380cdf03">op_t</a> op, cudaStream_t stream) const</td></tr>
<tr class="separator:a5f2645d2b6240436dd6261f9aa713589"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ab1aa2348eea635f234dc72b493e6a360"><td align="right" class="memItemLeft" valign="top">template&lt;&gt; </td></tr>
<tr class="memitem:ab1aa2348eea635f234dc72b493e6a360"><td align="right" class="memTemplItemLeft" valign="top"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">cumlCommunicator::datatype_t</a> </td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#ab1aa2348eea635f234dc72b493e6a360">getDataType</a> () const</td></tr>
<tr class="separator:ab1aa2348eea635f234dc72b493e6a360"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ab1aa2348eea635f234dc72b493e6a360"><td align="right" class="memItemLeft" valign="top">template&lt;&gt; </td></tr>
<tr class="memitem:ab1aa2348eea635f234dc72b493e6a360"><td align="right" class="memTemplItemLeft" valign="top"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">cumlCommunicator::datatype_t</a> </td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#ab1aa2348eea635f234dc72b493e6a360">getDataType</a> () const</td></tr>
<tr class="separator:ab1aa2348eea635f234dc72b493e6a360"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ab1aa2348eea635f234dc72b493e6a360"><td align="right" class="memItemLeft" valign="top">template&lt;&gt; </td></tr>
<tr class="memitem:ab1aa2348eea635f234dc72b493e6a360"><td align="right" class="memTemplItemLeft" valign="top"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">cumlCommunicator::datatype_t</a> </td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#ab1aa2348eea635f234dc72b493e6a360">getDataType</a> () const</td></tr>
<tr class="separator:ab1aa2348eea635f234dc72b493e6a360"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ab1aa2348eea635f234dc72b493e6a360"><td align="right" class="memItemLeft" valign="top">template&lt;&gt; </td></tr>
<tr class="memitem:ab1aa2348eea635f234dc72b493e6a360"><td align="right" class="memTemplItemLeft" valign="top"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">cumlCommunicator::datatype_t</a> </td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#ab1aa2348eea635f234dc72b493e6a360">getDataType</a> () const</td></tr>
<tr class="separator:ab1aa2348eea635f234dc72b493e6a360"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ab1aa2348eea635f234dc72b493e6a360"><td align="right" class="memItemLeft" valign="top">template&lt;&gt; </td></tr>
<tr class="memitem:ab1aa2348eea635f234dc72b493e6a360"><td align="right" class="memTemplItemLeft" valign="top"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">cumlCommunicator::datatype_t</a> </td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#ab1aa2348eea635f234dc72b493e6a360">getDataType</a> () const</td></tr>
<tr class="separator:ab1aa2348eea635f234dc72b493e6a360"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ab1aa2348eea635f234dc72b493e6a360"><td align="right" class="memItemLeft" valign="top">template&lt;&gt; </td></tr>
<tr class="memitem:ab1aa2348eea635f234dc72b493e6a360"><td align="right" class="memTemplItemLeft" valign="top"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">cumlCommunicator::datatype_t</a> </td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#ab1aa2348eea635f234dc72b493e6a360">getDataType</a> () const</td></tr>
<tr class="separator:ab1aa2348eea635f234dc72b493e6a360"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ab1aa2348eea635f234dc72b493e6a360"><td align="right" class="memItemLeft" valign="top">template&lt;&gt; </td></tr>
<tr class="memitem:ab1aa2348eea635f234dc72b493e6a360"><td align="right" class="memTemplItemLeft" valign="top"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">cumlCommunicator::datatype_t</a> </td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#ab1aa2348eea635f234dc72b493e6a360">getDataType</a> () const</td></tr>
<tr class="separator:ab1aa2348eea635f234dc72b493e6a360"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:ab1aa2348eea635f234dc72b493e6a360"><td align="right" class="memItemLeft" valign="top">template&lt;&gt; </td></tr>
<tr class="memitem:ab1aa2348eea635f234dc72b493e6a360"><td align="right" class="memTemplItemLeft" valign="top"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">cumlCommunicator::datatype_t</a> </td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#ab1aa2348eea635f234dc72b493e6a360">getDataType</a> () const</td></tr>
<tr class="separator:ab1aa2348eea635f234dc72b493e6a360"><td class="memSeparator" colspan="2"> </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:aff8ec9a5424a1d1f0cffa0cc91ebc6d1"><td align="right" class="memItemLeft" valign="top">static const int </td><td class="memItemRight" valign="bottom"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#aff8ec9a5424a1d1f0cffa0cc91ebc6d1">CUML_ANY_SOURCE</a> = -1</td></tr>
<tr class="separator:aff8ec9a5424a1d1f0cffa0cc91ebc6d1"><td class="memSeparator" colspan="2"> </td></tr>
</table>
<a id="details" name="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Communicator class intended to be used by cuML and ml-prims.</p>
<p><a class="el" href="classMLCommon_1_1cumlCommunicator.html">cumlCommunicator</a> needs an implementation of <a class="el" href="classMLCommon_1_1cumlCommunicator__iface.html">cumlCommunicator_iface</a>. The propsal is that this comes from a seperate library (cuML-comms). This enables a cuML user to build cuML-comms for the comms stack version he is using. The rational for this choice is that <a class="el" href="classMLCommon_1_1cumlCommunicator.html">cumlCommunicator</a> can be used in closed source components like multi GPU ml-prims without a direct dependency to the users comms stack.</p>
<p>The methods exposed by <a class="el" href="classMLCommon_1_1cumlCommunicator.html">cumlCommunicator</a> are thin wrappers around NCCL and a comms stack with MPI semantics. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a50a6486c4f311d58a2bd8706a69a8625"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50a6486c4f311d58a2bd8706a69a8625">◆ </a></span>request_t</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">typedef unsigned int <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a50a6486c4f311d58a2bd8706a69a8625">MLCommon::cumlCommunicator::request_t</a></td>
</tr>
</table>
</div><div class="memdoc">
</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a7ecf440424f1294d7ec4d5100239c254"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ecf440424f1294d7ec4d5100239c254">◆ </a></span>datatype_t</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">enum <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">MLCommon::cumlCommunicator::datatype_t</a></td>
</tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a7ecf440424f1294d7ec4d5100239c254a9214f0708697297ec9c27af668dd3291"></a>CHAR </td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7ecf440424f1294d7ec4d5100239c254aba2d343c3c33b62fa79f427871e49c2d"></a>UINT8 </td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7ecf440424f1294d7ec4d5100239c254abb09955a8ceef10d9dfb175148579753"></a>INT </td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7ecf440424f1294d7ec4d5100239c254a867e723faca1fe81c47561f0df236c97"></a>UINT </td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7ecf440424f1294d7ec4d5100239c254a7dd27450990da189a9a9694f0e2f94ce"></a>INT64 </td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7ecf440424f1294d7ec4d5100239c254aa32af145ec44e221efce46611225b982"></a>UINT64 </td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7ecf440424f1294d7ec4d5100239c254a3a89b943e32fd9e66b1d0916814036ec"></a>FLOAT </td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7ecf440424f1294d7ec4d5100239c254aee1f0ae6df619d15f2347c39d5910064"></a>DOUBLE </td><td class="fielddoc"></td></tr>
</table>
</div>
</div>
<a id="a5b8d9e59b79be0fd17f7ca99380cdf03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b8d9e59b79be0fd17f7ca99380cdf03">◆ </a></span>op_t</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">enum <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a5b8d9e59b79be0fd17f7ca99380cdf03">MLCommon::cumlCommunicator::op_t</a></td>
</tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5b8d9e59b79be0fd17f7ca99380cdf03ab781f36eaee2d4c1e4706785c8ba8a60"></a>SUM </td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5b8d9e59b79be0fd17f7ca99380cdf03a46be58fc7fee767d8400b4934533150c"></a>PROD </td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5b8d9e59b79be0fd17f7ca99380cdf03a32c94e07c1a58dfce6e78e611f989d06"></a>MIN </td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5b8d9e59b79be0fd17f7ca99380cdf03aab87d1520e40dd1501dfffcb8dcd880b"></a>MAX </td><td class="fielddoc"></td></tr>
</table>
</div>
</div>
<a id="aa527912fc32dd69c7f1c04d4e332340f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa527912fc32dd69c7f1c04d4e332340f">◆ </a></span>status_t</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">enum <a class="el" href="classMLCommon_1_1cumlCommunicator.html#aa527912fc32dd69c7f1c04d4e332340f">MLCommon::cumlCommunicator::status_t</a></td>
</tr>
</table>
</div><div class="memdoc">
<p>The resulting status of distributed stream synchronization </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa527912fc32dd69c7f1c04d4e332340fa18c920526280f386d9c54d796ffaefb7"></a>commStatusSuccess </td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa527912fc32dd69c7f1c04d4e332340fab0825c558a8538c99f2f2166788e9e89"></a>commStatusError </td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa527912fc32dd69c7f1c04d4e332340fa7571da80a833c88314621d550762688d"></a>commStatusAbort </td><td class="fielddoc"></td></tr>
</table>
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a67d49917de6def96a4729cf07ba1ed4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67d49917de6def96a4729cf07ba1ed4c">◆ </a></span>cumlCommunicator() <span class="overload">[1/2]</span></h2>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
<tr>
<td class="mlabels-left">
<table class="memname">
<tr>
<td class="memname">MLCommon::cumlCommunicator::cumlCommunicator </td>
<td>(</td>
<td class="paramname"></td><td>)</td>
<td></td>
</tr>
</table>
</td>
<td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span> </td>
</tr>
</table>
</div><div class="memdoc">
</div>
</div>
<a id="ab4a2a108ff3c25beec44cc8645f96af0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4a2a108ff3c25beec44cc8645f96af0">◆ </a></span>cumlCommunicator() <span class="overload">[2/2]</span></h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">MLCommon::cumlCommunicator::cumlCommunicator </td>
<td>(</td>
<td class="paramtype">std::unique_ptr&lt; <a class="el" href="classMLCommon_1_1cumlCommunicator__iface.html">cumlCommunicator_iface</a> &gt; </td>
<td class="paramname"><em>impl</em></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a189c016ac798ef40afab99a430122e18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a189c016ac798ef40afab99a430122e18">◆ </a></span>allgather() <span class="overload">[1/2]</span></h2>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
<tr>
<td class="mlabels-left">
<table class="memname">
<tr>
<td class="memname">void MLCommon::cumlCommunicator::allgather </td>
<td>(</td>
<td class="paramtype">const T * </td>
<td class="paramname"><em>sendbuff</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">T * </td>
<td class="paramname"><em>recvbuff</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>sendcount</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">cudaStream_t </td>
<td class="paramname"><em>stream</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td> const</td>
</tr>
</table>
</td>
<td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span> </td>
</tr>
</table>
</div><div class="memdoc">
<p>Convience wrapper around allgather deducing datatype_t from T. </p>
</div>
</div>
<a id="af4123a18b0e45f029a880a563c04faeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4123a18b0e45f029a880a563c04faeb">◆ </a></span>allgather() <span class="overload">[2/2]</span></h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void MLCommon::cumlCommunicator::allgather </td>
<td>(</td>
<td class="paramtype">const void * </td>
<td class="paramname"><em>sendbuff</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>recvbuff</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>sendcount</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">datatype_t</a> </td>
<td class="paramname"><em>datatype</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">cudaStream_t </td>
<td class="paramname"><em>stream</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td> const</td>
</tr>
</table>
</div><div class="memdoc">
<p>Gather sendcount values from all GPUs into recvbuff, receiving data from rank i at offset i*sendcount.</p>
<p>Note : This assumes the receive count is equal to nranks*sendcount, which means that recvbuff should have a size of at least nranks*sendcount elements.</p>
<p>In-place operation will happen if sendbuff == recvbuff + rank * sendcount.</p>
<p>Follows the semantics of ncclAllGather.</p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">sendbuff</td><td>address of GPU accessible send buffer </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">recvbuff</td><td>address of GPU accessible receive buffer (might alias with sendbuff) </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">sendcount</td><td>number of elements in sendbuff and recvbuff </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">datatype</td><td>data type of sendbuff and recvbuff </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>stream to submit this asynchronous (with respect to the CPU) operation to </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="a49ad450c693f33eacb9e9b4905e7dcb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49ad450c693f33eacb9e9b4905e7dcb0">◆ </a></span>allgatherv() <span class="overload">[1/2]</span></h2>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
<tr>
<td class="mlabels-left">
<table class="memname">
<tr>
<td class="memname">void MLCommon::cumlCommunicator::allgatherv </td>
<td>(</td>
<td class="paramtype">const void * </td>
<td class="paramname"><em>sendbuf</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>recvbuf</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">const int </td>
<td class="paramname"><em>recvcounts</em>[], </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">const int </td>
<td class="paramname"><em>displs</em>[], </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">cudaStream_t </td>
<td class="paramname"><em>stream</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td> const</td>
</tr>
</table>
</td>
<td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span> </td>
</tr>
</table>
</div><div class="memdoc">
<p>Convience wrapper around allgatherv deducing datatype_t from T. </p>
</div>
</div>
<a id="a29cbe3b472a4fe912de00c244ede55fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29cbe3b472a4fe912de00c244ede55fa">◆ </a></span>allgatherv() <span class="overload">[2/2]</span></h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void MLCommon::cumlCommunicator::allgatherv </td>
<td>(</td>
<td class="paramtype">const void * </td>
<td class="paramname"><em>sendbuf</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>recvbuf</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">const int </td>
<td class="paramname"><em>recvcounts</em>[], </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">const int </td>
<td class="paramname"><em>displs</em>[], </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">datatype_t</a> </td>
<td class="paramname"><em>datatype</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">cudaStream_t </td>
<td class="paramname"><em>stream</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td> const</td>
</tr>
</table>
</div><div class="memdoc">
<p>Gathers data from all processes and delivers it to all. Each process may contribute a different amount of data.</p>
<p>Semantics are equivalent to:</p>
<p>for (int root = 0; root &lt; <a class="el" href="classMLCommon_1_1cumlCommunicator.html#a1a276a3cb53d4d077a9c78f0010f9ff3">getSize()</a>; ++root) { ncclBroadcast(sendbuf, static_cast&lt;char*&gt;(recvbuf)+displs[root]*sizeof(datatype), recvcounts[root], datatype, root, nccl_comm, stream); }</p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">sendbuf</td><td>address of GPU accessible send buffer </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">recvbuf</td><td>address of GPU accessible receive buffer (might alias with sendbuff) </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">recvcounts</td><td>array (of length group size) containing the number of elements that are received from each process. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">displs</td><td>array (of length group size). Entry i specifies the displacement (relative to recvbuf) at which to place the incoming data from process i. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">datatype</td><td>data type of sendbuff and recvbuff </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>stream to submit this asynchronous (with respect to the CPU) operation to </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="a1fc241f3eaf29912976b39ead257e538"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fc241f3eaf29912976b39ead257e538">◆ </a></span>allreduce() <span class="overload">[1/2]</span></h2>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
<tr>
<td class="mlabels-left">
<table class="memname">
<tr>
<td class="memname">void MLCommon::cumlCommunicator::allreduce </td>
<td>(</td>
<td class="paramtype">const T * </td>
<td class="paramname"><em>sendbuff</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">T * </td>
<td class="paramname"><em>recvbuff</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>count</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a5b8d9e59b79be0fd17f7ca99380cdf03">op_t</a> </td>
<td class="paramname"><em>op</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">cudaStream_t </td>
<td class="paramname"><em>stream</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td> const</td>
</tr>
</table>
</td>
<td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span> </td>
</tr>
</table>
</div><div class="memdoc">
<p>Convience wrapper around allreduce deducing datatype_t from T. </p>
</div>
</div>
<a id="a49d962e146a74f7583e6f98edca443a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49d962e146a74f7583e6f98edca443a2">◆ </a></span>allreduce() <span class="overload">[2/2]</span></h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void MLCommon::cumlCommunicator::allreduce </td>
<td>(</td>
<td class="paramtype">const void * </td>
<td class="paramname"><em>sendbuff</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>recvbuff</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>count</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">datatype_t</a> </td>
<td class="paramname"><em>datatype</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a5b8d9e59b79be0fd17f7ca99380cdf03">op_t</a> </td>
<td class="paramname"><em>op</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">cudaStream_t </td>
<td class="paramname"><em>stream</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td> const</td>
</tr>
</table>
</div><div class="memdoc">
<p>Reduce data arrays of length count in sendbuff using op operation and leaves identical copies of the result on each recvbuff.</p>
<p>Follows the semantics of ncclAllReduce. In-place operation will happen if sendbuff == recvbuff .</p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">sendbuff</td><td>address of GPU accessible send buffer </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">recvbuff</td><td>address of GPU accessible receive buffer (might alias with sendbuff) </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>number of elements in sendbuff and recvbuff </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">datatype</td><td>data type of sendbuff and recvbuff </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">op</td><td>reduction operation to perform. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>stream to submit this asynchronous (with respect to the CPU) operation to </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="ae6e0c18c3549b283fa167725af5677bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6e0c18c3549b283fa167725af5677bd">◆ </a></span>barrier()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void MLCommon::cumlCommunicator::barrier </td>
<td>(</td>
<td class="paramname"></td><td>)</td>
<td> const</td>
</tr>
</table>
</div><div class="memdoc">
<p>Synchronization of all ranks for the underlying communicator. </p>
</div>
</div>
<a id="aae4f9ce2869dff127046bb6025d11ff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae4f9ce2869dff127046bb6025d11ff8">◆ </a></span>bcast() <span class="overload">[1/2]</span></h2>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
<tr>
<td class="mlabels-left">
<table class="memname">
<tr>
<td class="memname">void MLCommon::cumlCommunicator::bcast </td>
<td>(</td>
<td class="paramtype">T * </td>
<td class="paramname"><em>buff</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>count</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>root</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">cudaStream_t </td>
<td class="paramname"><em>stream</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td> const</td>
</tr>
</table>
</td>
<td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span> </td>
</tr>
</table>
</div><div class="memdoc">
<p>Convience wrapper around bcast deducing datatype_t from T. </p>
</div>
</div>
<a id="ac9a00e7c70439c962b6d310736bf73df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9a00e7c70439c962b6d310736bf73df">◆ </a></span>bcast() <span class="overload">[2/2]</span></h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void MLCommon::cumlCommunicator::bcast </td>
<td>(</td>
<td class="paramtype">void * </td>
<td class="paramname"><em>buff</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>count</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">datatype_t</a> </td>
<td class="paramname"><em>datatype</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>root</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">cudaStream_t </td>
<td class="paramname"><em>stream</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td> const</td>
</tr>
</table>
</div><div class="memdoc">
<p>Copies count elements from buff on the root rank to all ranks buff.</p>
<p>Follows the semantics of ncclBcast.</p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">buff</td><td>address of GPU accessible buffer </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>number of elements in buff </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">datatype</td><td>data type of buff </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">root</td><td>rank of broadcast root </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>stream to submit this asynchronous (with respect to the CPU) operation to </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="a491064fa05f0128aaec680420dcad25f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a491064fa05f0128aaec680420dcad25f">◆ </a></span>commSplit()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="classMLCommon_1_1cumlCommunicator.html">cumlCommunicator</a> MLCommon::cumlCommunicator::commSplit </td>
<td>(</td>
<td class="paramtype">int </td>
<td class="paramname"><em>color</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>key</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td> const</td>
</tr>
</table>
</div><div class="memdoc">
<p>Creates new communicators based on colors and keys following the sematics of MPI_Comm_split.</p>
<p>Note: Issuing concurrent communication requests to overlapping communicators can cause a deadlock.</p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">color</td><td>Control of subset assignment (nonnegative integer) </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Control of rank assignment </td></tr>
</table>
</dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>new communicator instance containing only the ranks with the same color </dd></dl>
</div>
</div>
<a id="a306f184be7574ab73ff3cfe72165cb0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a306f184be7574ab73ff3cfe72165cb0b">◆ </a></span>getDataType() <span class="overload">[1/9]</span></h2>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="memname">
<tr>
<td class="memname"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">datatype_t</a> MLCommon::cumlCommunicator::getDataType </td>
<td>(</td>
<td class="paramname"></td><td>)</td>
<td> const</td>
</tr>
</table>
</div><div class="memdoc">
</div>
</div>
<a id="ab1aa2348eea635f234dc72b493e6a360"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1aa2348eea635f234dc72b493e6a360">◆ </a></span>getDataType() <span class="overload">[2/9]</span></h2>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
<table class="memname">
<tr>
<td class="memname"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">cumlCommunicator::datatype_t</a> MLCommon::cumlCommunicator::getDataType </td>
<td>(</td>
<td class="paramname"></td><td>)</td>
<td> const</td>
</tr>
</table>
</div><div class="memdoc">
</div>
</div>
<a id="ab1aa2348eea635f234dc72b493e6a360"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1aa2348eea635f234dc72b493e6a360">◆ </a></span>getDataType() <span class="overload">[3/9]</span></h2>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
<table class="memname">
<tr>
<td class="memname"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">cumlCommunicator::datatype_t</a> MLCommon::cumlCommunicator::getDataType </td>
<td>(</td>
<td class="paramname"></td><td>)</td>
<td> const</td>
</tr>
</table>
</div><div class="memdoc">
</div>
</div>
<a id="ab1aa2348eea635f234dc72b493e6a360"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1aa2348eea635f234dc72b493e6a360">◆ </a></span>getDataType() <span class="overload">[4/9]</span></h2>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
<table class="memname">
<tr>
<td class="memname"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">cumlCommunicator::datatype_t</a> MLCommon::cumlCommunicator::getDataType </td>
<td>(</td>
<td class="paramname"></td><td>)</td>
<td> const</td>
</tr>
</table>
</div><div class="memdoc">
</div>
</div>
<a id="ab1aa2348eea635f234dc72b493e6a360"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1aa2348eea635f234dc72b493e6a360">◆ </a></span>getDataType() <span class="overload">[5/9]</span></h2>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
<table class="memname">
<tr>
<td class="memname"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">cumlCommunicator::datatype_t</a> MLCommon::cumlCommunicator::getDataType </td>
<td>(</td>
<td class="paramname"></td><td>)</td>
<td> const</td>
</tr>
</table>
</div><div class="memdoc">
</div>
</div>
<a id="ab1aa2348eea635f234dc72b493e6a360"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1aa2348eea635f234dc72b493e6a360">◆ </a></span>getDataType() <span class="overload">[6/9]</span></h2>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
<table class="memname">
<tr>
<td class="memname"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">cumlCommunicator::datatype_t</a> MLCommon::cumlCommunicator::getDataType </td>
<td>(</td>
<td class="paramname"></td><td>)</td>
<td> const</td>
</tr>
</table>
</div><div class="memdoc">
</div>
</div>
<a id="ab1aa2348eea635f234dc72b493e6a360"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1aa2348eea635f234dc72b493e6a360">◆ </a></span>getDataType() <span class="overload">[7/9]</span></h2>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
<table class="memname">
<tr>
<td class="memname"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">cumlCommunicator::datatype_t</a> MLCommon::cumlCommunicator::getDataType </td>
<td>(</td>
<td class="paramname"></td><td>)</td>
<td> const</td>
</tr>
</table>
</div><div class="memdoc">
</div>
</div>
<a id="ab1aa2348eea635f234dc72b493e6a360"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1aa2348eea635f234dc72b493e6a360">◆ </a></span>getDataType() <span class="overload">[8/9]</span></h2>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
<table class="memname">
<tr>
<td class="memname"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">cumlCommunicator::datatype_t</a> MLCommon::cumlCommunicator::getDataType </td>
<td>(</td>
<td class="paramname"></td><td>)</td>
<td> const</td>
</tr>
</table>
</div><div class="memdoc">
</div>
</div>
<a id="ab1aa2348eea635f234dc72b493e6a360"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1aa2348eea635f234dc72b493e6a360">◆ </a></span>getDataType() <span class="overload">[9/9]</span></h2>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
<table class="memname">
<tr>
<td class="memname"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">cumlCommunicator::datatype_t</a> MLCommon::cumlCommunicator::getDataType </td>
<td>(</td>
<td class="paramname"></td><td>)</td>
<td> const</td>
</tr>
</table>
</div><div class="memdoc">
</div>
</div>
<a id="afbb287dc3781f2c8211a396b2d10703f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbb287dc3781f2c8211a396b2d10703f">◆ </a></span>getRank()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">int MLCommon::cumlCommunicator::getRank </td>
<td>(</td>
<td class="paramname"></td><td>)</td>
<td> const</td>
</tr>
</table>
</div><div class="memdoc">
<p>Determines the rank of the calling process in the underlying communicator. </p>
</div>
</div>
<a id="a1a276a3cb53d4d077a9c78f0010f9ff3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a276a3cb53d4d077a9c78f0010f9ff3">◆ </a></span>getSize()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">int MLCommon::cumlCommunicator::getSize </td>
<td>(</td>
<td class="paramname"></td><td>)</td>
<td> const</td>
</tr>
</table>
</div><div class="memdoc">
<p>Returns the size of the group associated with the underlying communicator. </p>
</div>
</div>
<a id="ae736a74ce093c3c1304774240e269384"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae736a74ce093c3c1304774240e269384">◆ </a></span>irecv() <span class="overload">[1/2]</span></h2>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
<tr>
<td class="mlabels-left">
<table class="memname">
<tr>
<td class="memname">void MLCommon::cumlCommunicator::irecv </td>
<td>(</td>
<td class="paramtype">T * </td>
<td class="paramname"><em>buf</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>n</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>source</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>tag</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a50a6486c4f311d58a2bd8706a69a8625">request_t</a> * </td>
<td class="paramname"><em>request</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td> const</td>
</tr>
</table>
</td>
<td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span> </td>
</tr>
</table>
</div><div class="memdoc">
<p>Convience wrapper around irecv deducing message size from sizeof(T).</p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>address of receive buffer (can be a CPU or GPU pointer) </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>number of elements to receive </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>rank of source </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">tag</td><td>message tag </td></tr>
<tr><td class="paramdir">[out]</td><td class="paramname">request</td><td>communication request (handle) </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="abf5af939b0b48838df83d5cb62eb7165"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf5af939b0b48838df83d5cb62eb7165">◆ </a></span>irecv() <span class="overload">[2/2]</span></h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void MLCommon::cumlCommunicator::irecv </td>
<td>(</td>
<td class="paramtype">void * </td>
<td class="paramname"><em>buf</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>size</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>source</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>tag</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a50a6486c4f311d58a2bd8706a69a8625">request_t</a> * </td>
<td class="paramname"><em>request</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td> const</td>
</tr>
</table>
</div><div class="memdoc">
<p>Starts a nonblocking receive following the semantics of MPI_Irecv</p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>address of receive buffer (can be a CPU or GPU pointer) </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of the message to receive in bytes </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>rank of source </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">tag</td><td>message tag </td></tr>
<tr><td class="paramdir">[out]</td><td class="paramname">request</td><td>communication request (handle) </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="a631f0d5f877df5982ba4a454b167c9f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a631f0d5f877df5982ba4a454b167c9f3">◆ </a></span>isend() <span class="overload">[1/2]</span></h2>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
<tr>
<td class="mlabels-left">
<table class="memname">
<tr>
<td class="memname">void MLCommon::cumlCommunicator::isend </td>
<td>(</td>
<td class="paramtype">const T * </td>
<td class="paramname"><em>buf</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>n</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>dest</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>tag</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a50a6486c4f311d58a2bd8706a69a8625">request_t</a> * </td>
<td class="paramname"><em>request</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td> const</td>
</tr>
</table>
</td>
<td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span> </td>
</tr>
</table>
</div><div class="memdoc">
<p>Convience wrapper around isend deducing message size from sizeof(T).</p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>address of send buffer (can be a CPU or GPU pointer) </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>number of elements to send </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">dest</td><td>rank of destination </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">tag</td><td>message tag </td></tr>
<tr><td class="paramdir">[out]</td><td class="paramname">request</td><td>communication request (handle) </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="ab5051b58208abb6c8bf21c3d31dc9def"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5051b58208abb6c8bf21c3d31dc9def">◆ </a></span>isend() <span class="overload">[2/2]</span></h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void MLCommon::cumlCommunicator::isend </td>
<td>(</td>
<td class="paramtype">const void * </td>
<td class="paramname"><em>buf</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>size</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>dest</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>tag</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a50a6486c4f311d58a2bd8706a69a8625">request_t</a> * </td>
<td class="paramname"><em>request</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td> const</td>
</tr>
</table>
</div><div class="memdoc">
<p>Starts a nonblocking send following the semantics of MPI_Isend</p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>address of send buffer (can be a CPU or GPU pointer) </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of the message to send in bytes </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">dest</td><td>rank of destination </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">tag</td><td>message tag </td></tr>
<tr><td class="paramdir">[out]</td><td class="paramname">request</td><td>communication request (handle) </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="a81618468dc5b9ca97440215f89edd945"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81618468dc5b9ca97440215f89edd945">◆ </a></span>reduce() <span class="overload">[1/2]</span></h2>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
<tr>
<td class="mlabels-left">
<table class="memname">
<tr>
<td class="memname">void MLCommon::cumlCommunicator::reduce </td>
<td>(</td>
<td class="paramtype">const T * </td>
<td class="paramname"><em>sendbuff</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">T * </td>
<td class="paramname"><em>recvbuff</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>count</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a5b8d9e59b79be0fd17f7ca99380cdf03">op_t</a> </td>
<td class="paramname"><em>op</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>root</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">cudaStream_t </td>
<td class="paramname"><em>stream</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td> const</td>
</tr>
</table>
</td>
<td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span> </td>
</tr>
</table>
</div><div class="memdoc">
<p>Convience wrapper around reduce deducing datatype_t from T. </p>
</div>
</div>
<a id="a351939d74f53663d1b9c0caef2f3e60d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a351939d74f53663d1b9c0caef2f3e60d">◆ </a></span>reduce() <span class="overload">[2/2]</span></h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void MLCommon::cumlCommunicator::reduce </td>
<td>(</td>
<td class="paramtype">const void * </td>
<td class="paramname"><em>sendbuff</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>recvbuff</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>count</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">datatype_t</a> </td>
<td class="paramname"><em>datatype</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a5b8d9e59b79be0fd17f7ca99380cdf03">op_t</a> </td>
<td class="paramname"><em>op</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>root</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">cudaStream_t </td>
<td class="paramname"><em>stream</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td> const</td>
</tr>
</table>
</div><div class="memdoc">
<p>Reduce data arrays of length count in sendbuff into recvbuff on the root rank using the op operation. recvbuff is only used on rank root and ignored for other ranks.</p>
<p>Follows the semantics of ncclReduce. In-place operation will happen if sendbuff == recvbuff .</p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">sendbuff</td><td>address of GPU accessible send buffer </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">recvbuff</td><td>address of GPU accessible receive buffer (might alias with sendbuff) </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>number of elements in sendbuff and recvbuff </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">datatype</td><td>data type of sendbuff and recvbuff </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">op</td><td>reduction operation to perform. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">root</td><td>rank of broadcast root </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>stream to submit this asynchronous (with respect to the CPU) operation to </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="a31610675465d6bad165958694ef981ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31610675465d6bad165958694ef981ad">◆ </a></span>reducescatter() <span class="overload">[1/2]</span></h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void MLCommon::cumlCommunicator::reducescatter </td>
<td>(</td>
<td class="paramtype">const void * </td>
<td class="paramname"><em>sendbuff</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>recvbuff</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>recvcount</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">datatype_t</a> </td>
<td class="paramname"><em>datatype</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a5b8d9e59b79be0fd17f7ca99380cdf03">op_t</a> </td>
<td class="paramname"><em>op</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">cudaStream_t </td>
<td class="paramname"><em>stream</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td> const</td>
</tr>
</table>
</div><div class="memdoc">
<p>Reduce data in sendbuff from all GPUs using the op operation and leave the reduced result scattered over the devices so that the recvbuff on rank i will contain the i-th block of the result.</p>
<p>Note: This assumes the send count is equal to nranks*recvcount, which means that sendbuff should have a size of at least nranks*recvcount elements.</p>
<p>Follows the semantics of ncclReduceScatter.</p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">sendbuff</td><td>address of GPU accessible send buffer </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">recvbuff</td><td>address of GPU accessible receive buffer </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">recvcount</td><td>number of elements to receive to recvbuff </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">datatype</td><td>data type of sendbuff and recvbuff </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">op</td><td>reduction operation to perform. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>stream to submit this asynchronous (with respect to the CPU) operation to </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<a id="a5f2645d2b6240436dd6261f9aa713589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f2645d2b6240436dd6261f9aa713589">◆ </a></span>reducescatter() <span class="overload">[2/2]</span></h2>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
<tr>
<td class="mlabels-left">
<table class="memname">
<tr>
<td class="memname">void MLCommon::cumlCommunicator::reducescatter </td>
<td>(</td>
<td class="paramtype">const void * </td>
<td class="paramname"><em>sendbuff</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">void * </td>
<td class="paramname"><em>recvbuff</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">int </td>
<td class="paramname"><em>recvcount</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a7ecf440424f1294d7ec4d5100239c254">datatype_t</a> </td>
<td class="paramname"><em>datatype</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a5b8d9e59b79be0fd17f7ca99380cdf03">op_t</a> </td>
<td class="paramname"><em>op</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">cudaStream_t </td>
<td class="paramname"><em>stream</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td> const</td>
</tr>
</table>
</td>
<td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span> </td>
</tr>
</table>
</div><div class="memdoc">
<p>Convience wrapper around reducescatter deducing datatype_t from T. </p>
</div>
</div>
<a id="a46eaf46adee1ccae136bbc6f1d9c6911"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46eaf46adee1ccae136bbc6f1d9c6911">◆ </a></span>syncStream()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#aa527912fc32dd69c7f1c04d4e332340f">cumlCommunicator::status_t</a> MLCommon::cumlCommunicator::syncStream </td>
<td>(</td>
<td class="paramtype">cudaStream_t </td>
<td class="paramname"><em>stream</em></td><td>)</td>
<td> const</td>
</tr>
</table>
</div><div class="memdoc">
<p>Synchronization of all ranks for the current stream. This allows different <a class="el" href="classMLCommon_1_1cumlCommunicator.html">cumlCommunicator</a> implementations to provide custom handling of asynchronous errors, such as the failure of ranks during collective communication operations.</p>
<p>In the case where commStatusAbort is returned, the underlying comms implementation may need to be re-initialized.</p>
<p>A status of commStatusError should be thrown if an error occurs when querying the stream sync status of the underlying communicator.</p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>the stream to synchronize </td></tr>
</table>
</dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>resulting status of the synchronization. </dd></dl>
</div>
</div>
<a id="a1588cc89a9a8dbf0a0adbd5815e8ca48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1588cc89a9a8dbf0a0adbd5815e8ca48">◆ </a></span>waitall()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void MLCommon::cumlCommunicator::waitall </td>
<td>(</td>
<td class="paramtype">int </td>
<td class="paramname"><em>count</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classMLCommon_1_1cumlCommunicator.html#a50a6486c4f311d58a2bd8706a69a8625">request_t</a> </td>
<td class="paramname"><em>array_of_requests</em>[] </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td> const</td>
</tr>
</table>
</div><div class="memdoc">
<p>Waits for all given communication requests to complete following the semantics of MPI_Waitall.</p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>number of requests </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">array_of_requests</td><td>array of request handles </td></tr>
</table>
</dd>
</dl>
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aff8ec9a5424a1d1f0cffa0cc91ebc6d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff8ec9a5424a1d1f0cffa0cc91ebc6d1">◆ </a></span>CUML_ANY_SOURCE</h2>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
<tr>
<td class="mlabels-left">
<table class="memname">
<tr>
<td class="memname">const int MLCommon::cumlCommunicator::CUML_ANY_SOURCE = -1</td>
</tr>
</table>
</td>
<td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span> </td>
</tr>
</table>
</div><div class="memdoc">
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/rapids/cuml/cpp/src_prims/common/<a class="el" href="cuml__comms__int_8hpp_source.html">cuml_comms_int.hpp</a></li>
<li>/rapids/cuml/cpp/src/common/<a class="el" href="cuML__comms__impl_8cpp.html">cuML_comms_impl.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by  <a href="http://www.doxygen.org/index.html">
<img alt="doxygen" class="footer" src="doxygen.png"/>
</a> 1.8.18
</small></address>
<script defer id="rapids-selector-js" src="/assets/js/custom.js"></script></body>
</html>
