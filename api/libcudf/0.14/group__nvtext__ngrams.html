<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/xhtml;charset=utf-8" http-equiv="Content-Type"/>
<meta content="IE=9" http-equiv="X-UA-Compatible"/>
<meta content="Doxygen 1.8.18" name="generator"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>libcudf: NGrams</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script src="jquery.js" type="text/javascript"></script>
<script src="dynsections.js" type="text/javascript"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script src="search/searchdata.js" type="text/javascript"></script>
<script src="search/search.js" type="text/javascript"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" id="rapids-fa-tag" rel="stylesheet"/><link href="/assets/css/custom.css" id="rapids-selector-css" rel="stylesheet"/></head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea"><div id="rapids-doxygen-container"><div class="rapids-home-container"><a class="rapids-home-container__home-btn" href="/api">Home</a></div><div class="rapids-selector__container rapids-selector--hidden"><div class="rapids-selector__selected">libcudf</div><div class="rapids-selector__menu"><a class="rapids-selector__menu-item" href="/api/clx/stable/api.html">clx</a><a class="rapids-selector__menu-item" href="/api/cudf/stable/api.html">cudf</a><a class="rapids-selector__menu-item" href="/api/cudf_java/stable">cudf_java</a><a class="rapids-selector__menu-item" href="/api/cugraph/stable/api.html">cugraph</a><a class="rapids-selector__menu-item" href="/api/cuml/stable/api.html">cuml</a><a class="rapids-selector__menu-item" href="/api/cusignal/stable/api.html">cusignal</a><a class="rapids-selector__menu-item" href="/api/cuspatial/stable/api.html">cuspatial</a><a class="rapids-selector__menu-item" href="/api/cuxfilter/stable">cuxfilter</a><a class="rapids-selector__menu-item rapids-selector__menu-item--selected" href="/api/libcudf/stable/namespacecudf.html">libcudf</a><a class="rapids-selector__menu-item" href="/api/libcugraph/stable">libcugraph</a><a class="rapids-selector__menu-item" href="/api/libcuml/stable">libcuml</a><a class="rapids-selector__menu-item" href="/api/libnvstrings/stable/annotated.html">libnvstrings</a><a class="rapids-selector__menu-item" href="/api/nvstrings/stable/api.html">nvstrings</a><a class="rapids-selector__menu-item" href="/api/rmm/stable/annotated.html">rmm</a></div></div><div class="rapids-selector__container rapids-selector--hidden"><div class="rapids-selector__selected">stable (0.14)</div><div class="rapids-selector__menu"><a class="rapids-selector__menu-item" href="/api/libcudf/nightly/namespacecudf.html">nightly (0.15)</a><a class="rapids-selector__menu-item rapids-selector__menu-item--selected" href="/api/libcudf/stable/namespacecudf.html">stable (0.14)</a><a class="rapids-selector__menu-item" href="/api/libcudf/legacy/namespacecudf.html">legacy (0.13)</a></div></div></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script src="menudata.js" type="text/javascript"></script>
<script src="menu.js" type="text/javascript"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
</div>
<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)">
</iframe>
</div>
<div class="header">
<div class="summary">
<a href="#func-members">Functions</a> </div>
<div class="headertitle">
<div class="title">NGrams<div class="ingroups"><a class="el" href="group__nvtext__apis.html">NVText</a></div></div> </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga81acc9b2e82f3b35f94c7f5acf77c9bd"><td align="right" class="memItemLeft" valign="top">std::unique_ptr&lt; <a class="el" href="classcudf_1_1column.html">cudf::column</a> &gt; </td><td class="memItemRight" valign="bottom"><a class="el" href="group__nvtext__ngrams.html#ga81acc9b2e82f3b35f94c7f5acf77c9bd">nvtext::generate_ngrams</a> (<a class="el" href="classcudf_1_1strings__column__view.html">cudf::strings_column_view</a> const &amp;strings, cudf::size_type ngrams=2, <a class="el" href="classcudf_1_1string__scalar.html">cudf::string_scalar</a> const &amp;separator=<a class="el" href="classcudf_1_1string__scalar.html">cudf::string_scalar</a>{"_"}, rmm::mr::device_memory_resource *mr=rmm::mr::get_default_resource())</td></tr>
<tr class="memdesc:ga81acc9b2e82f3b35f94c7f5acf77c9bd"><td class="mdescLeft"> </td><td class="mdescRight">Returns a single column of strings by generating ngrams from a strings column.  <a href="group__nvtext__ngrams.html#ga81acc9b2e82f3b35f94c7f5acf77c9bd">More...</a><br/></td></tr>
<tr class="separator:ga81acc9b2e82f3b35f94c7f5acf77c9bd"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:gabf8708c4233cb725bcecb748543f3ca5"><td align="right" class="memItemLeft" valign="top">std::unique_ptr&lt; <a class="el" href="classcudf_1_1column.html">cudf::column</a> &gt; </td><td class="memItemRight" valign="bottom"><a class="el" href="group__nvtext__ngrams.html#gabf8708c4233cb725bcecb748543f3ca5">nvtext::ngrams_tokenize</a> (<a class="el" href="classcudf_1_1strings__column__view.html">cudf::strings_column_view</a> const &amp;strings, cudf::size_type ngrams=2, <a class="el" href="classcudf_1_1string__scalar.html">cudf::string_scalar</a> const &amp;delimiter=<a class="el" href="classcudf_1_1string__scalar.html">cudf::string_scalar</a>{""}, <a class="el" href="classcudf_1_1string__scalar.html">cudf::string_scalar</a> const &amp;separator=<a class="el" href="classcudf_1_1string__scalar.html">cudf::string_scalar</a>{"_"}, rmm::mr::device_memory_resource *mr=rmm::mr::get_default_resource())</td></tr>
<tr class="memdesc:gabf8708c4233cb725bcecb748543f3ca5"><td class="mdescLeft"> </td><td class="mdescRight">Returns a single column of strings by tokenizing the input strings column and then producing ngrams of each string.  <a href="group__nvtext__ngrams.html#gabf8708c4233cb725bcecb748543f3ca5">More...</a><br/></td></tr>
<tr class="separator:gabf8708c4233cb725bcecb748543f3ca5"><td class="memSeparator" colspan="2"> </td></tr>
</table>
<a id="details" name="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga81acc9b2e82f3b35f94c7f5acf77c9bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga81acc9b2e82f3b35f94c7f5acf77c9bd">◆ </a></span>generate_ngrams()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">std::unique_ptr&lt;<a class="el" href="classcudf_1_1column.html">cudf::column</a>&gt; nvtext::generate_ngrams </td>
<td>(</td>
<td class="paramtype"><a class="el" href="classcudf_1_1strings__column__view.html">cudf::strings_column_view</a> const &amp; </td>
<td class="paramname"><em>strings</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">cudf::size_type </td>
<td class="paramname"><em>ngrams</em> = <code>2</code>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classcudf_1_1string__scalar.html">cudf::string_scalar</a> const &amp; </td>
<td class="paramname"><em>separator</em> = <code><a class="el" href="classcudf_1_1string__scalar.html">cudf::string_scalar</a>{"_"}</code>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">rmm::mr::device_memory_resource * </td>
<td class="paramname"><em>mr</em> = <code>rmm::mr::get_default_resource()</code> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Returns a single column of strings by generating ngrams from a strings column. </p>
<p>An ngram is a grouping of 2 or more strings with a separator. For example, generating bigrams groups all adjacent pairs of strings.</p>
<div class="fragment"><div class="line">[<span class="stringliteral">"a"</span>, <span class="stringliteral">"bb"</span>, <span class="stringliteral">"ccc"</span>] would generate bigrams as [<span class="stringliteral">"a_bb"</span>, <span class="stringliteral">"bb_ccc"</span>]</div>
<div class="line">and trigrams as [<span class="stringliteral">"a_bb_ccc"</span>]</div>
</div><!-- fragment --><p>The size of the output column will be the total number of ngrams generated from the input strings column.</p>
<p>All null row entries are ignored and the output contains all valid rows.</p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramname">strings</td><td>Strings column to tokenize and produce ngrams from. </td></tr>
<tr><td class="paramname">ngrams</td><td>The ngram number to generate. Default is 2 = bigram. </td></tr>
<tr><td class="paramname">separator</td><td>The string to use for separating ngram tokens. Default is "_" character. </td></tr>
<tr><td class="paramname">mr</td><td>Device memory resource used to allocate the returned column's device memory. </td></tr>
</table>
</dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New strings columns of tokens. </dd></dl>
</div>
</div>
<a id="gabf8708c4233cb725bcecb748543f3ca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabf8708c4233cb725bcecb748543f3ca5">◆ </a></span>ngrams_tokenize()</h2>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">std::unique_ptr&lt;<a class="el" href="classcudf_1_1column.html">cudf::column</a>&gt; nvtext::ngrams_tokenize </td>
<td>(</td>
<td class="paramtype"><a class="el" href="classcudf_1_1strings__column__view.html">cudf::strings_column_view</a> const &amp; </td>
<td class="paramname"><em>strings</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">cudf::size_type </td>
<td class="paramname"><em>ngrams</em> = <code>2</code>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classcudf_1_1string__scalar.html">cudf::string_scalar</a> const &amp; </td>
<td class="paramname"><em>delimiter</em> = <code><a class="el" href="classcudf_1_1string__scalar.html">cudf::string_scalar</a>{""}</code>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="classcudf_1_1string__scalar.html">cudf::string_scalar</a> const &amp; </td>
<td class="paramname"><em>separator</em> = <code><a class="el" href="classcudf_1_1string__scalar.html">cudf::string_scalar</a>{"_"}</code>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">rmm::mr::device_memory_resource * </td>
<td class="paramname"><em>mr</em> = <code>rmm::mr::get_default_resource()</code> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</div><div class="memdoc">
<p>Returns a single column of strings by tokenizing the input strings column and then producing ngrams of each string. </p>
<p>An ngram is a grouping of 2 or more tokens with a separator. For example, generating bigrams groups all adjacent pairs of tokens for a string.</p>
<div class="fragment"><div class="line">[<span class="stringliteral">"a bb ccc"</span>] can be tokenized to [<span class="stringliteral">"a"</span>, <span class="stringliteral">"bb"</span>, <span class="stringliteral">"ccc"</span>]</div>
<div class="line">bigrams would generate [<span class="stringliteral">"a_bb"</span>, <span class="stringliteral">"bb_ccc"</span>] and trigrams would generate [<span class="stringliteral">"a_bb_ccc"</span>]</div>
</div><!-- fragment --><p>The <code>delimiter</code> is used for tokenizing and may be zero or more characters. If the <code>delimiter</code> is empty, whitespace (character code-point &lt;= ' ') is used for identifying tokens.</p>
<p>Once tokens are identified, ngrams are produced by joining the tokens with the specified separator. The generated ngrams use the tokens for each string and not across strings in adjacent rows. Any input string that contains fewer tokens than the specified ngrams value is skipped and will not contribute to the output. Therefore, a bigram of a single token is ignored as well as a trigram of 2 or less tokens.</p>
<p>Tokens are found by locating delimiter(s) starting at the beginning of each string. As each string is tokenized, the ngrams are generated using input column row order to build the output column. That is, ngrams created in input row[i] will be placed in the output column directly before ngrams created in input row[i+1].</p>
<p>The size of the output column will be the total number of ngrams generated from the input strings column.</p>
<div class="fragment"><div class="line">Example:</div>
<div class="line">s = ["a b c", "d e", "f g h i", "j"]</div>
<div class="line">t = ngrams_tokenize(s, 2, " ", "_")</div>
<div class="line">t is now ["a_b", "b_c", "d_e", "f_g", "g_h", "h_i"]</div>
</div><!-- fragment --><p>All null row entries are ignored and the output contains all valid rows.</p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramname">strings</td><td>Strings column to tokenize and produce ngrams from. </td></tr>
<tr><td class="paramname">ngrams</td><td>The ngram number to generate. Default is 2 = bigram. </td></tr>
<tr><td class="paramname">delimiter</td><td>UTF-8 characters used to separate each string into tokens. The default of empty string will separate tokens using whitespace. </td></tr>
<tr><td class="paramname">separator</td><td>The string to use for separating ngram tokens. Default is "_" character. </td></tr>
<tr><td class="paramname">mr</td><td>Device memory resource used to allocate the returned column's device memory. </td></tr>
</table>
</dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New strings columns of tokens. </dd></dl>
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by  <a href="http://www.doxygen.org/index.html">
<img alt="doxygen" class="footer" src="doxygen.png"/>
</a> 1.8.18
</small></address>
<script defer id="rapids-selector-js" src="/assets/js/custom.js"></script></body>
</html>
